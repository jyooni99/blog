@import "tailwindcss";

:root {
  --background: var(--color-white);
  --foreground: var(--color-zinc-800);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

body::selection {
  @apply dark:bg-violet-dark bg-violet-100;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: var(--color-zinc-900);
    --foreground: var(--color-zinc-200);
  }
}

/* ============================================
유틸리티 클래스
============================================ */

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-violet-dark: #242440;
  --color-violet-light: #cba6f7;
  --color-light-bg: #fbfcfd;
}

.hover-violet {
  @apply hover:text-violet-600 dark:hover:text-violet-light transition-colors;
}

.group-hover-violet {
  @apply group-hover:text-violet-600 dark:group-hover:text-violet-light transition-colors;
}

.badge-violet {
  @apply text-violet-700 bg-violet-50 dark:text-violet-light dark:bg-violet-dark;
}

.badge-hover {
  @apply hover:bg-violet-100 hover:text-violet-800 transition-colors cursor-pointer dark:hover:bg-violet-dark/60 dark:hover:text-violet-light;
}

/* ============================================
rehype-pretty-code
============================================ */

/* Shiki 테마 색상 변수 적용 (코드 블록만) */
code[data-theme*=" "],
code[data-theme*=" "] span {
  @apply bg-transparent;
  color: var(--shiki-light);
}

@media (prefers-color-scheme: dark) {
  code[data-theme*=" "],
  code[data-theme*=" "] span {
    color: var(--shiki-dark);
  }
}

/* 제목이 있을 때 pre의 border-radius 조정 */
figure[data-rehype-pretty-code-figure]:has(figcaption) pre {
  @apply rounded-t-none border-t-0;
}

/* 인라인 코드 스타일  */
code:not(figure[data-rehype-pretty-code-figure] code) {
  @apply px-1.5 py-0.5 mx-0.5 text-sm tracking-wide bg-zinc-100 dark:bg-violet-dark text-violet-500 dark:text-violet-light rounded font-mono;
}

/* ============================================
코드 블록 스크롤바 스타일
============================================ */

/* 라이트 모드 스크롤바 */
figure[data-rehype-pretty-code-figure] pre::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

figure[data-rehype-pretty-code-figure] pre::-webkit-scrollbar-track {
  background: #f4f4f5;
  border-radius: 4px;
}

figure[data-rehype-pretty-code-figure] pre::-webkit-scrollbar-thumb {
  background: #d4d4d8;
  border-radius: 4px;
}

figure[data-rehype-pretty-code-figure] pre::-webkit-scrollbar-thumb:hover {
  background: #a1a1aa;
}

/* 다크 모드 스크롤바 */
@media (prefers-color-scheme: dark) {
  figure[data-rehype-pretty-code-figure] pre::-webkit-scrollbar-track {
    background: #27272a;
  }

  figure[data-rehype-pretty-code-figure] pre::-webkit-scrollbar-thumb {
    background: #52525b;
  }

  figure[data-rehype-pretty-code-figure] pre::-webkit-scrollbar-thumb:hover {
    background: #71717a;
  }
}
